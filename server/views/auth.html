<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLS TRAVELS - Authentication</title>
    <link rel="stylesheet" href="/auth/static/auth.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>

<body class="bg-background min-h-screen font-sans">
    <!-- AppContainer -->
    <div class="min-h-screen flex flex-col bg-gradient-to-br from-background to-muted">
        
        <!-- Header -->
        <header class="bg-card border-b border-border shadow-sm">
            <div class="max-w-md mx-auto px-4 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                            <i class="fas fa-route text-primary-foreground text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-foreground">PLS TRAVELS</h1>
                            <p class="text-xs text-muted-foreground">Reliable Transportation</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button class="p-2 text-muted-foreground hover:text-foreground transition-colors">
                            <i class="fas fa-phone text-sm"></i>
                        </button>
                        <div class="h-6 w-px bg-border"></div>
                        <button class="text-xs font-medium text-primary hover:text-primary/80 transition-colors">
                            தமிழ்
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- MainContent -->
        <main class="flex-1 flex items-center justify-center p-4">
            <div class="w-full max-w-md space-y-6">
                
                <!-- AuthTabs -->
                <div class="bg-card rounded-lg shadow-lg border border-border overflow-hidden slide-in">
                    <!-- Tab Navigation -->
                    <div class="flex bg-muted">
                        <button 
                            id="loginTab" 
                            class="flex-1 py-3 px-4 text-sm font-medium text-center transition-all duration-200 tab-button active"
                            data-testid="tab-login">
                            Sign In
                        </button>
                        <button 
                            id="signupTab" 
                            class="flex-1 py-3 px-4 text-sm font-medium text-center transition-all duration-200 tab-button"
                            data-testid="tab-signup">
                            Sign Up
                        </button>
                    </div>

                    <!-- LoginForm -->
                    <div id="loginForm" class="p-6 space-y-6 auth-form active">
                        <div class="text-center space-y-2">
                            <h2 class="text-2xl font-bold text-foreground">Welcome Back</h2>
                            <p class="text-muted-foreground">Enter your phone number to continue</p>
                        </div>

                        <form id="loginFormElement" class="space-y-4">
                            <!-- Phone Number Input -->
                            <div class="space-y-2">
                                <label class="text-sm font-medium text-foreground">Phone Number</label>
                                <div class="relative">
                                    <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground">
                                        <i class="fas fa-phone text-sm"></i>
                                    </div>
                                    <input 
                                        type="tel" 
                                        id="loginPhone"
                                        class="phone-input w-full px-4 py-3 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent transition-all"
                                        placeholder="+91 98765 43210"
                                        required
                                        data-testid="input-login-phone">
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="space-y-3">
                                <button 
                                    type="submit"
                                    id="loginSendOtp"
                                    class="w-full bg-primary hover:bg-primary/90 text-primary-foreground font-medium py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2"
                                    data-testid="button-login-send-otp">
                                    <span>Send OTP</span>
                                    <i class="fas fa-arrow-right text-sm"></i>
                                </button>

                                <div class="text-center">
                                    <p class="text-xs text-muted-foreground">
                                        By continuing, you agree to our 
                                        <a href="#" class="text-primary hover:underline">Terms of Service</a> and 
                                        <a href="#" class="text-primary hover:underline">Privacy Policy</a>
                                    </p>
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- SignupForm -->
                    <div id="signupForm" class="p-6 space-y-6 auth-form hidden">
                        <div class="text-center space-y-2">
                            <h2 class="text-2xl font-bold text-foreground">Create Account</h2>
                            <p class="text-muted-foreground">Join PLS Travels for convenient rides</p>
                        </div>

                        <form id="signupFormElement" class="space-y-4">
                            <!-- Name Input -->
                            <div class="space-y-2">
                                <label class="text-sm font-medium text-foreground">Full Name</label>
                                <div class="relative">
                                    <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground">
                                        <i class="fas fa-user text-sm"></i>
                                    </div>
                                    <input 
                                        type="text" 
                                        id="signupName"
                                        class="phone-input w-full px-4 py-3 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent transition-all"
                                        placeholder="Enter your full name"
                                        required
                                        data-testid="input-signup-name">
                                </div>
                            </div>

                            <!-- Phone Number Input -->
                            <div class="space-y-2">
                                <label class="text-sm font-medium text-foreground">Phone Number</label>
                                <div class="relative">
                                    <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground">
                                        <i class="fas fa-phone text-sm"></i>
                                    </div>
                                    <input 
                                        type="tel" 
                                        id="signupPhone"
                                        class="phone-input w-full px-4 py-3 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent transition-all"
                                        placeholder="+91 98765 43210"
                                        required
                                        data-testid="input-signup-phone">
                                </div>
                            </div>

                            <!-- Email Input -->
                            <div class="space-y-2">
                                <label class="text-sm font-medium text-foreground">Email Address</label>
                                <div class="relative">
                                    <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground">
                                        <i class="fas fa-envelope text-sm"></i>
                                    </div>
                                    <input 
                                        type="email" 
                                        id="signupEmail"
                                        class="phone-input w-full px-4 py-3 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent transition-all"
                                        placeholder="your.email@example.com"
                                        data-testid="input-signup-email">
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="space-y-3">
                                <button 
                                    type="submit"
                                    id="signupSendOtp"
                                    class="w-full bg-primary hover:bg-primary/90 text-primary-foreground font-medium py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2"
                                    data-testid="button-signup-send-otp">
                                    <span>Create Account</span>
                                    <i class="fas fa-user-plus text-sm"></i>
                                </button>

                                <div class="text-center">
                                    <p class="text-xs text-muted-foreground">
                                        Already have an account? 
                                        <button 
                                            type="button"
                                            class="text-primary hover:underline font-medium"
                                            data-testid="link-switch-login">
                                            Sign in here
                                        </button>
                                    </p>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- OTPVerification -->
                <div id="otpVerification" class="bg-card rounded-lg shadow-lg border border-border p-6 space-y-6 hidden slide-in">
                    <div class="text-center space-y-2">
                        <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-mobile-alt text-primary text-2xl"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-foreground">Verify Your Phone</h2>
                        <p class="text-muted-foreground">
                            We've sent a 6-digit code to
                            <span id="otpPhoneDisplay" class="font-medium text-foreground" data-testid="text-phone-display">+91 98765 ****10</span>
                        </p>
                    </div>

                    <form id="otpForm" class="space-y-6">
                        <!-- OTP Input Fields -->
                        <div class="flex justify-center space-x-3">
                            <input type="text" maxlength="1" class="otp-input" id="otp1" data-index="0" data-testid="input-otp-1">
                            <input type="text" maxlength="1" class="otp-input" id="otp2" data-index="1" data-testid="input-otp-2">
                            <input type="text" maxlength="1" class="otp-input" id="otp3" data-index="2" data-testid="input-otp-3">
                            <input type="text" maxlength="1" class="otp-input" id="otp4" data-index="3" data-testid="input-otp-4">
                            <input type="text" maxlength="1" class="otp-input" id="otp5" data-index="4" data-testid="input-otp-5">
                            <input type="text" maxlength="1" class="otp-input" id="otp6" data-index="5" data-testid="input-otp-6">
                        </div>

                        <!-- Timer and Resend -->
                        <div class="text-center space-y-3">
                            <div id="otpTimer" class="text-sm text-muted-foreground" data-testid="text-otp-timer">
                                Resend code in <span id="countdown" class="font-medium text-foreground">30</span>s
                            </div>
                            
                            <button 
                                type="button"
                                id="resendOtp"
                                class="text-sm text-primary hover:text-primary/80 font-medium hidden"
                                data-testid="button-resend-otp">
                                Didn't receive the code? Resend
                            </button>
                        </div>

                        <!-- Action Buttons -->
                        <div class="space-y-3">
                            <button 
                                type="submit"
                                id="verifyOtp"
                                class="w-full bg-primary hover:bg-primary/90 text-primary-foreground font-medium py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed"
                                disabled
                                data-testid="button-verify-otp">
                                <span id="verifyText">Verify & Continue</span>
                                <i id="verifyIcon" class="fas fa-check text-sm"></i>
                                <div id="verifyLoader" class="loading-spinner hidden">
                                    <i class="fas fa-spinner"></i>
                                </div>
                            </button>

                            <button 
                                type="button"
                                class="w-full text-muted-foreground hover:text-foreground font-medium py-2 transition-colors"
                                id="goBackBtn"
                                data-testid="button-go-back">
                                <i class="fas fa-arrow-left text-sm mr-2"></i>
                                Back to phone number
                            </button>
                        </div>
                    </form>
                </div>

                <!-- StatusMessages -->
                <div id="statusMessages" class="space-y-3" data-testid="container-status-messages"></div>

                <!-- HelpSection -->
                <div class="bg-card rounded-lg border border-border p-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-secondary rounded-full flex items-center justify-center">
                            <i class="fas fa-question-circle text-muted-foreground"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-medium text-foreground">Need Help?</h3>
                            <p class="text-sm text-muted-foreground">Contact support for assistance</p>
                        </div>
                        <button class="text-primary hover:text-primary/80 transition-colors">
                            <i class="fas fa-external-link-alt text-sm"></i>
                        </button>
                    </div>
                </div>

            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-card border-t border-border py-4">
            <div class="max-w-md mx-auto px-4">
                <div class="text-center space-y-2">
                    <p class="text-xs text-muted-foreground">
                        © 2024 PLS TRAVELS. All rights reserved.
                    </p>
                    <div class="flex justify-center space-x-4 text-xs">
                        <a href="#" class="text-muted-foreground hover:text-foreground transition-colors">Privacy</a>
                        <span class="text-border">•</span>
                        <a href="#" class="text-muted-foreground hover:text-foreground transition-colors">Terms</a>
                        <span class="text-border">•</span>
                        <a href="#" class="text-muted-foreground hover:text-foreground transition-colors">Support</a>
                    </div>
                </div>
            </div>
        </footer>

    </div>

    <script src="/auth/static/auth.js"></script>
</body>
</html>
